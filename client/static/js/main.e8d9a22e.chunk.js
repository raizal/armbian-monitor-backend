(this["webpackJsonparmbian-monitor"]=this["webpackJsonparmbian-monitor"]||[]).push([[0],{101:function(e,t,l){"use strict";l.r(t);var a=l(1),n=l.n(a),s=l(29),r=l.n(s),o=l(11),i=l(6),c=(l(69),l(70),l(71),l(21)),d=l(15),b=l(61),u=l(60),x=l(37),m=l(4),h=(l(104),l(0)),p=l(2);function j(){Object(p.b)(),Object(p.c)((function(e){return e.sshStb})).scanning,Object(p.c)((function(e){return e.responsive})).isMobile;var e=n.a.useState(!1),t=Object(m.a)(e,2),l=t[0],a=t[1],s=Object(i.g)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("nav",{className:"fixed top-0 w-full z-10 bg-transparent md:flex-row md:flex-nowrap md:justify-start flex items-center p-4 bg-lightBlue-600 ",children:Object(h.jsxs)("div",{className:"w-full mx-autp items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4",children:[Object(h.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto px-4 lg:static lg:block lg:justify-start",children:[Object(h.jsx)("a",{className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white",href:"#",onClick:function(){s.push("/"),a(!1)},children:"STB Miners Monitor"}),Object(h.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return a(!l)},children:Object(h.jsx)("i",{className:"fas fa-bars"})})]}),Object(h.jsx)("div",{className:"lg:flex flex-grow items-center"+(l?" flex":" hidden"),id:"example-navbar-info",children:Object(h.jsx)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",href:"#",onClick:function(e){e.preventDefault(),s.push("/settings"),a(!1)},children:"Settings"})})})})]})})})}function f(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("footer",{className:"block py-4",children:Object(h.jsxs)("div",{className:"container mx-auto px-4",children:[Object(h.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(h.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(h.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(h.jsxs)("div",{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(h.jsx)("a",{href:"http://raiz.web.id/",className:"text-blueGray-500 hover:text-blueGray-700 text-sm font-semibold py-1",children:"RAIZ-DEV"})]})}),Object(h.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(h.jsxs)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://www.facebook.com/raizal.pregnanta",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"About Me"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://github.com/raizal",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"Github"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://trakteer.id/raiz",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"Trakteer"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://www.linkedin.com/in/raizal-pregnanta/",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"LinkedIn"})})]})})]})]})})})}l(82);var g=l(5);function O(e){var t=e.color,l=e.content,a=e.sort,n=void 0===a?"hostname":a,s=e.order,r=void 0===s?"asc":s,o=e.onHeaderClick,i=void 0===o?function(){}:o,c=r?Object(h.jsx)("i",{className:"fas fa-angle-".concat("asc"===r?"up":"down"," border-blueGray-100 ml-4")}):null;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded "+("light"===t?"bg-white":"bg-lightBlue-900 text-white"),children:Object(h.jsx)("div",{className:"block w-full overflow-x-auto",children:Object(h.jsxs)(g.Table,{className:"items-center w-full bg-transparent border-collapse",children:[Object(h.jsx)(g.Thead,{children:Object(h.jsxs)(g.Tr,{children:[Object(h.jsxs)(g.Th,{style:{width:"150px"},onClick:function(){return i("hostname","asc"===r?"desc":"asc")},className:"cursor-pointer px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-center "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:["STB ","hostname"===n&&c]}),Object(h.jsxs)(g.Th,{style:{width:"200px"},onClick:function(){return i("ip","asc"===r?"desc":"asc")},className:"cursor-pointer px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:["Net Info ","ip"===n&&c]}),Object(h.jsxs)(g.Th,{className:"cursor-pointer px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),onClick:function(){return i("cpu","asc"===r?"desc":"asc")},children:["CPU ","cpu"===n&&c]}),Object(h.jsx)(g.Th,{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Workername"}),Object(h.jsxs)(g.Th,{className:"cursor-pointer px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),onClick:function(){return i("speed","asc"===r?"desc":"asc")},children:["Speed  ","speed"===n&&c]}),Object(h.jsx)(g.Th,{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-center "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Actions"})]})}),Object(h.jsx)(g.Tbody,{children:l})]})})})})}O.defaultProps={color:"light"};var w=l(22),v=l.n(w),y=function(e){return e&&"RUNNING"===e.ccminerStatus},N=function(e){return e&&Math.abs(v()(e).diff(v()(),"s"))<150},k=l(59),S=l.n(k),C=function(e){e.color;var t,l=e._id,a=e.name,n=e.mac,s=(e.os,e.netDev),r=e.temp,o=e.hashrate,i=(e.workerName,e.nodeInstalled,e.pm2Installed,e.ccminerInstalled,e.skywireInstalled,e.ip,e.shares),c=e.diff,d=e.lastUpdate,b=e.lastRequest,u=e.cpuLoad,x=e.ips,m=void 0===x?[]:x,j=e.ccminerStatus,f=e.minerScript,O=e.hideDetail,w=void 0!==O&&O,k=Object(p.c)((function(e){return e.sshStb})).logs,C=y({ccminerStatus:j}),G=N(b),B=Object(p.b)(),M=0===b?"":v()(b).fromNow(),T=0===b?"offline":v()(b).format("DD-MM-YYYY HH:mm:ss"),I=0===d?"offline":v()(d).format("DD-MM-YYYY HH:mm:ss"),A=k&&k[a]&&!k[a].done,D=k&&(null===(t=k[a])||void 0===t?void 0:t.status)||null,E=function(e){try{var t=S()(e.split(" ")),l={workerName:"",threads:t.t,algo:t.a,server:t.o,wallet:t.u,password:t.p},a=t.u.split(".")[1];if(t.o.indexOf("zergpool.com")>=0){var n=t.p.split(",").find((function(e){return(null===e||void 0===e?void 0:e.indexOf("ID="))>=0}));l.workerName=n?n.replace("ID=",""):a}else t.o.indexOf("luckpool")>=0&&(l.workerName="hybrid"===t.p?"".concat(a,"-hybrid"):a);return l}catch(s){}return{workerName:"-",threads:"-",algo:"-",server:"-",wallet:"-",password:"-"}}(f);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(g.Tr,{className:"border-solid border-t border-blueGray-200",children:[Object(h.jsx)(g.Th,{className:"xs:w-full border-t-0  align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsxs)("label",{className:"lg:ml-3 font-bold my-auto mx-auto",children:[Object(h.jsx)("i",{className:"fas fa-circle text-".concat(C&&G?"emerald":G?"orange":"red","-500 mr-2")}),a]}),!w&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"my-auto mx-auto pt-2 leading-normal lg:ml-3 font-normal ",children:M}),Object(h.jsx)("label",{className:" my-auto mx-auto leading-normal lg:ml-3 font-normal",children:T})]})]})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6  align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("label",{className:"lg:w-10 py-1",children:m.join("; ")}),!w&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"lg:w-10 py-1",children:s.join("; ")}),n.map((function(e){return Object(h.jsx)("label",{className:"lg:w-10 py-1 ",children:e})}))]})]})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6 max-w-210-px align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsxs)("label",{className:"lg:w-10 pt-2 pb-2 ".concat(r>=60?"text-red-500 font-bold":"font-bold text-emerald-500"),children:[r,"\xb0C"]}),Object(h.jsx)("span",{className:"lg:w-10 break-all py-1",children:u})]})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6 w-210-px font-bold align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsx)("div",{className:"flex flex-col",children:Object(h.jsx)("label",{className:"lg:w-10 pt-2 pb-2",children:E.workerName})})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6 align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("label",{className:"lg:w-10 font-bold ease-linear transition-all duration-150",children:o}),!w&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("label",{className:"lg:w-10 pt-2 pb-2 leading-normal",children:["Diff: ",c," | Shares: ",i]}),Object(h.jsx)("label",{className:"lg:w-10 pt-1 leading-normal",children:"Last Share:"}),Object(h.jsx)("label",{className:"lg:w-10 leading-normal",children:I})]})]})}),Object(h.jsx)(g.Td,{style:{width:"150px"},className:"border-t-0 px-6  align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col flex-wrap items-center",style:{gap:"8px",minWidth:"150px"},children:[Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",disabled:A,onClick:function(){B(ve({id:l}))},children:[Object(h.jsx)("i",{className:"fas fa-cog"})," ","Config & Run Miner"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:function(){B(ye({id:l}))},children:[Object(h.jsx)("i",{className:"fas fa-power-off"})," Reboot"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:function(){B(Ce({ids:[l]}))},children:[Object(h.jsx)("i",{className:"fas fa-power-off"})," Shutdown"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:function(){B(Z({type:"threads",value:E.threads,id:l}))},children:[Object(h.jsx)("i",{className:"fas fa-microchip"})," Set Thread"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:function(){B(Z({type:"hostname",value:E.threads,id:a}))},children:[Object(h.jsx)("i",{className:"fas fa-network-wired"})," Set Hostname"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:function(){B(Z({type:"logviewer",id:a}))},children:[Object(h.jsx)("i",{className:"fas fa-network-wired"})," View Log"]})]})})]}),!w&&Object(h.jsx)(g.Tr,{children:Object(h.jsx)(g.Td,{colSpan:6,className:"border-solid border-t items-center text-center text-xs align-middle leading-none py-2 leading-snug",children:f})}),A&&Object(h.jsx)(g.Tr,{children:Object(h.jsx)(g.Td,{colSpan:6,className:"border-solid border-t items-center text-center text-xs align-middle leading-none py-2 leading-snug",children:D})})]})};function G(e){var t=e.statSubtitle,l=e.statTitle,a=e.statArrow,n=e.statPercent,s=e.statPercentColor,r=e.statDescripiron,o=e.statIconName,i=e.statIconColor;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg",children:Object(h.jsxs)("div",{className:"flex-auto p-4",children:[Object(h.jsxs)("div",{className:"flex flex-wrap",children:[Object(h.jsxs)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:[Object(h.jsx)("h5",{className:"text-blueGray-400 uppercase font-bold text-xs",children:t}),Object(h.jsx)("span",{className:"font-semibold text-xl text-blueGray-700",children:l})]}),Object(h.jsx)("div",{className:"relative w-auto pl-4 flex-initial",children:Object(h.jsx)("div",{className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+i,children:Object(h.jsx)("i",{className:o})})})]}),Object(h.jsxs)("p",{className:"text-sm text-blueGray-400 mt-4 font-bold",children:[Object(h.jsxs)("span",{className:s+" mr-2",children:[Object(h.jsx)("i",{className:"up"===a?"fas fa-arrow-up":"down"===a?"fas fa-arrow-down":""})," ",n]}),Object(h.jsx)("span",{className:"whitespace-nowrap",children:r})]})]})})})}G.defaultProps={statSubtitle:"Traffic",statTitle:"350,897",statArrow:"up",statPercent:"3.48",statPercentColor:"text-emerald-500",statDescripiron:"Since last month",statIconName:"far fa-chart-bar",statIconColor:"bg-red-500"};var B=l(28),M=l.n(B);function T(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.sshStb})),l=t.list,n=t.scanning,s=t.sort,r=t.order,o=Object(a.useState)("all"),i=Object(m.a)(o,2),c=i[0],b=i[1],u=Object(a.useState)(""),x=Object(m.a)(u,2),j=x[0],f=x[1],g=Object(a.useState)(!1),w=Object(m.a)(g,2),k=w[0],S=w[1],B=Object(a.useState)(""),T=Object(m.a)(B,2),I=T[0],A=T[1],D=Object(a.useCallback)(M.a.debounce((function(e){A(e)}),700),[]),E=Object(a.useCallback)(M.a.debounce((function(){e(je())}),300),[]),F=Object(a.useMemo)((function(){return l.filter((function(e){var t=y(e),l=N(e.lastRequest),a=!0;if("all"!==c)switch(c){case"offline":a=!l;break;case"running":a=t&&l;break;case"idle":a=!t&&l}return 0===e.name.indexOf(I)&&a}))}),[l,c,I]),R=Object(a.useMemo)((function(){return F.filter((function(e){return!N(e.lastRequest)})).length}),[F]),L=Object(a.useMemo)((function(){return F.filter((function(e){var t=y(e),l=N(e.lastRequest);return!t&&l})).length}),[F]),P=Object(a.useMemo)((function(){return F.map((function(e){return"n/a"!==e.hashrate&&y(e)&&function(e){var t=e&&v()(e);return t&&Math.abs(t.diff(v()(),"s"))<150}(e.lastUpdate)?parseInt(e.hashrate.split(" ")[0]):0}))}),[F]),H=Object(a.useMemo)((function(){return P.reduce((function(e,t){return e+t}),0)/1e3}),[P]),z=Object(a.useMemo)((function(){return H/(F.length-R)*1e3||0}),[R,F,H]),Y=Object(a.useMemo)((function(){return M.a.min(P.filter((function(e){return e>0})))||0}),[P]),U=Object(a.useMemo)((function(){return M.a.max(P)||0}),[P]),W=Object(a.useMemo)((function(){return F.map((function(e){return e.temp}))}),[F]),_=(W.reduce((function(e,t){return e+t}),0)||0)/F.length||0,q=Object(a.useMemo)((function(){return M.a.min(W)||0}),[W]),V=Object(a.useMemo)((function(){return M.a.max(W)||0}),[W]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"flex flex-wrap mt-4 mb-8",children:[Object(h.jsx)("div",{className:"w-full md:w-4/12 px-1",children:Object(h.jsx)(G,{statSubtitle:"STB",statTitle:"".concat(F.length-R-L,"/").concat(F.length),statArrow:"",statIconName:"fas fa-laptop-code",statIconColor:"bg-lightBlue-500",statPercent:"Offline : ".concat(R),statPercentColor:"",statDescripiron:"| Idle : ".concat(L)})}),Object(h.jsx)("div",{className:"w-full md:w-4/12 px-1",children:Object(h.jsx)(G,{statSubtitle:"Hashrate",statTitle:"".concat(H," Mhs"),statArrow:"",statIconName:"fas fa-tachometer-alt",statIconColor:"bg-orange-500",statPercent:"Avg: ".concat(z.toFixed(0)," Khs"),statPercentColor:"",statDescripiron:"| Max: ".concat(U," Khs | Min: ").concat(Y," Khs")})}),Object(h.jsx)("div",{className:"w-full md:w-4/12 px-1",children:Object(h.jsx)(G,{statSubtitle:"Avg Temperature",statTitle:"".concat(_.toFixed(2)," \xb0C"),statArrow:"",statIconName:"fas fa-thermometer-half",statIconColor:"bg-red-500",statPercent:"Min: ".concat(q," \xb0C"),statPercentColor:"",statDescripiron:"Max: ".concat(V," \xb0C")})})]}),Object(h.jsx)("div",{className:"flex md:flex-row flex-col mb-4 mt-12",style:{justifyContent:"flex-end"},children:Object(h.jsxs)("div",{className:"flex flex-row flex-wrap flex-1 mb-2 mt-2",style:{gap:"5px",alignItems:"center"},children:[Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){n||e(me())},disabled:n,className:"".concat(n?"bg-lightBlue-500 text-white":"bg-transparent text-lightBlue-500"," border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"),type:"button",children:n?"SCANNING":"START SCANS"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){window.confirm("Apakah Anda yakin dengan ini?")&&e(ke({ids:l.map((function(e){return e._id}))}))},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:"Stop Mining"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){window.confirm("Apakah Anda yakin dengan ini?")&&e(Se({ids:l.map((function(e){return e._id}))}))},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:"Reboot All"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){window.confirm("Apakah Anda yakin dengan ini?")&&e(Ce({ids:l.map((function(e){return e._id}))}))},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:"Shutdown All"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){e(Ne({ids:l.map((function(e){return e._id}))}))},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:"Auto Config & Start All"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){return S(!k)},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:k?"Detail":"Simple"})]})}),Object(h.jsxs)("div",{className:"w-full mb-2 flex md:flex-row flex-col",children:[Object(h.jsx)("div",{className:"xl:w-3/12 md:w-4/12 w-full mb-2 mt-2",style:{alignSelf:"center"},children:Object(h.jsxs)("select",{onChange:function(e){b(e.target.value)},className:"font-normal leading-normal mt-0 w-full text-lightBlue-800 border-blueGray-200",children:[Object(h.jsx)("option",{value:"all",className:"font-normal leading-normal",selected:"all"===c,children:"Semua"}),Object(h.jsx)("option",{value:"running",className:"font-normal leading-normal",selected:"running"===c,children:"Running"}),Object(h.jsx)("option",{value:"idle",className:"font-normal leading-normal",selected:"idle"===c,children:"Idle"}),Object(h.jsx)("option",{value:"offline",className:"font-normal leading-normal",selected:"offline"===c,children:"Offline"})]})}),Object(h.jsx)("div",{className:"xs:hidden flex-1"}),Object(h.jsx)("div",{className:"w-full md:w-4/12 mb-2 mt-2",children:Object(h.jsx)("div",{className:"relative w-full",children:Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white text-sm shadow w-full ease-linear transition-all duration-150",value:j,placeholder:"Search...",onChange:function(e){f(e.target.value),D(e.target.value)}})})})]}),Object(h.jsx)(O,{onHeaderClick:function(t,l){l!==r&&e(Me(l)),s!==t&&e(Te(t)),E()},sort:s,order:r,content:F.map((function(e,t){return Object(a.createElement)(C,Object(d.a)(Object(d.a)({},e),{},{hideDetail:!k,key:"".concat(e.name,"-").concat(t),color:t%2===0?"light":"dark"}))}))})]})}var I=function(){var e=Object(p.b)(),t=Object(i.g)(),l=Object(p.c)((function(e){return e.configGeneral})),n=l.refreshInterval,s=l.segments,r=l.activePool,o=l.wallet,c=l.server,d=l.password,b=l.algo,u=l.threads,x=l.workername,j=(l.timezone,Object(a.useState)(n)),f=Object(m.a)(j,2),g=f[0],O=f[1],w=Object(a.useState)(s),v=Object(m.a)(w,2),y=v[0],N=v[1],k=Object(a.useState)(!r||X.luckpool),S=Object(m.a)(k,2),C=(S[0],S[1]),G=Object(a.useState)(o),B=Object(m.a)(G,2),M=B[0],T=B[1],I=Object(a.useState)(c),A=Object(m.a)(I,2),D=A[0],E=A[1],F=Object(a.useState)(d),R=Object(m.a)(F,2),L=R[0],P=R[1],H=Object(a.useState)(b),z=Object(m.a)(H,2),Y=z[0],U=z[1],W=Object(a.useState)(u),_=Object(m.a)(W,2),q=_[0],V=_[1],J=Object(a.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),K=Object(m.a)(J,2),Z=K[0],Q=K[1],ee=Object(a.useState)(x||"hostname"),te=Object(m.a)(ee,2),le=te[0],ae=te[1],se="/root/ccminer/ccminer -a ".concat(Y," -o ").concat(D," -u ").concat(M,".$workername ").concat((null===d||void 0===d?void 0:d.length)>0?"-p":""," ").concat(L," -t ").concat(q),re=function(e){var t=e.target,l=t.name,a=t.value;switch(l){case"wallet":T(a);break;case"algo":U(a);break;case"password":P(a);break;case"threads":V(a);break;case"server":E(a);break;case"interval":O(a);break;case"segments":N(a);break;case"activepool":C(a);break;case"workername":ae(a);break;case"timezone":Q(a)}};return Object(h.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(ne({refreshInterval:g,segments:y,wallet:M,server:D,password:L,algo:Y,threads:q,workername:le,timezone:Z}))},children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsx)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:Object(h.jsx)("div",{className:"text-center flex justify-between",children:Object(h.jsx)("h6",{className:"text-blueGray-700 text-xl font-bold",children:"Setting"})})}),Object(h.jsxs)("div",{className:"flex-auto px-4 lg:px-10 py-10 pt-0",children:[Object(h.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:"General Setting"}),Object(h.jsxs)("div",{className:"flex flex-wrap",children:[Object(h.jsx)("div",{className:"w-full px-4 mb-4 ".concat("hostname"!==le?"lg:w-6/12":""),children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Workername"}),Object(h.jsxs)("div",{className:"mt-2 py-2",children:[Object(h.jsxs)("label",{className:"inline-flex items-center mr-4",children:[Object(h.jsx)("input",{type:"radio",className:"form-radio",onChange:re,name:"workername",value:"hostname",checked:"hostname"===le}),Object(h.jsx)("span",{className:"ml-2",children:"Use hostname"})]}),Object(h.jsxs)("label",{className:"inline-flex items-center ml-6",children:[Object(h.jsx)("input",{type:"radio",className:"form-radio",onChange:re,name:"workername",value:"all-for-one",checked:"hostname"!==le}),Object(h.jsx)("span",{className:"ml-2",children:"Single workername"})]})]})]})}),"hostname"!==le&&Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Single Workername"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:le,name:"workername",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Timezone"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:Z,disabled:!0,readOnly:!0,name:"timezone",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Update Interval (dalam detik)"}),Object(h.jsx)("input",{type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:g,name:"interval",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"IP Segment (pisahkan dengan koma)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:y,name:"segments",onChange:re})]})})]}),Object(h.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:"Miner Setting"}),Object(h.jsxs)("div",{className:"flex flex-wrap",children:[Object(h.jsx)("div",{className:"w-full px-4 lg:w-6/12 ",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Server(-o)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:D,name:"server",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full px-4 lg:w-6/12 ",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Algo(-a)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:Y,name:"algo",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Wallet(-u)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:M,name:"wallet",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4 ",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Password(-p)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:L,name:"password",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Jumlah CPU Threads(-t)"}),Object(h.jsx)("input",{type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:q,name:"threads",onChange:re})]})}),Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Generated Miner Script"}),Object(h.jsx)("textarea",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:se,name:"script",readOnly:!0,onChange:re})]})})]})]}),Object(h.jsx)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:Object(h.jsxs)("div",{className:"text-center flex justify-end",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){e($()),t.goBack()},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Save Changes"})]})})]})})};function A(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"flex flex-wrap",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsx)(I,{})})})})}var D=Object(c.b)({name:"responsive",initialState:{isMobile:!1},reducers:{setIsMobile:function(e,t){e.isMobile=t.payload}}}),E=D.actions.setIsMobile,F=D.reducer,R=l(26),L=l.n(R),P=l(40),H=function(e){var t=e.threads,l=e.id,n=void 0===l?"STB NAME":l,s=Object(p.b)(),r=(Object(i.g)(),Object(a.useState)(t)),o=Object(m.a)(r,2),c=o[0],d=o[1];return Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(re({id:n,config:Object(P.a)({},"".concat(n,"-threads"),c)})),s($())},children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsxs)("div",{className:"flex-auto px-4 pt-8 pb-6 pt-0",children:[Object(h.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 px-3 font-bold uppercase",children:n}),Object(h.jsx)("div",{className:"flex flex-wrap",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"CPU Threads"}),Object(h.jsx)("input",{type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:c,name:"threads",onChange:function(e){var t=e.target,l=t.name,a=t.value;if("threads"===l)d(a)}})]})})})]}),Object(h.jsx)("div",{className:"rounded-t mb-0 pb-4",children:Object(h.jsxs)("div",{className:"flex justify-center bg flex-row items-center",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){s($())},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"})]})})]})})},z=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.configModal})),l=t.id,a=t.value,n=t.showing;return console.log(t),Object(h.jsx)(L.a,{isOpen:"threads"===n,onRequestClose:function(){e($())},contentLabel:"",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",padding:0,transform:"translate(-50%, -50%)",zIndex:20},overlay:{zIndex:200,backgroundColor:"#000c"}},shouldCloseOnOverlayClick:!0,children:Object(h.jsx)(H,{id:l,threads:a})})},Y=function(e){var t=e.id,l=void 0===t?"STB NAME":t,n=Object(p.b)(),s=(Object(i.g)(),Object(a.useState)(l)),r=Object(m.a)(s,2),o=r[0],c=r[1];return Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(oe({hostname:o,id:l})),n(xe()),n($()),window.location.reload()},children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsx)("div",{className:"flex-auto px-4 pt-8 pb-6 pt-0",children:Object(h.jsx)("div",{className:"flex flex-wrap mt-6",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Set Hostname"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:o,name:"hostname",onChange:function(e){var t=e.target,l=(t.name,t.value);c(l)}})]})})})}),Object(h.jsx)("div",{className:"rounded-t mb-0 pb-4",children:Object(h.jsxs)("div",{className:"flex justify-center bg flex-row items-center",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){n($())},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"})]})})]})})},U=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.configModal})),l=t.id,a=t.showing;return Object(h.jsx)(L.a,{isOpen:"hostname"===a,onRequestClose:function(){e($())},contentLabel:"",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",padding:0,transform:"translate(-50%, -50%)",zIndex:20},overlay:{zIndex:200,backgroundColor:"#000c"}},shouldCloseOnOverlayClick:!0,children:Object(h.jsx)(Y,{id:l})})},W=function(e){var t=e.id,l=void 0===t?"STB NAME":t,n=Object(p.b)(),s=Object(a.useRef)(),r=function(e){e&&e.preventDefault(),n(Ge({id:l}))},o=Object(p.c)((function(e){return e.sshStb})).stbLogs,i=Object(a.useMemo)((function(){var e=(o||[]).map((function(e){return"[".concat(v()(e.timestamp).format("DD-MM-YYYY HH:mm:ss"),"] ").concat(e.log)})).join("\n");return console.log({result:e}),e}),[o]);return Object(a.useEffect)((function(){var e=s.current;e.scrollTop=e.scrollHeight}),[i]),Object(a.useEffect)((function(){r()}),[]),Object(h.jsx)("form",{onSubmit:r,children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsx)("div",{className:"flex-auto px-4 pt-8 pb-6 pt-0",children:Object(h.jsx)("div",{className:"flex flex-wrap mt-6",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsx)("div",{className:"relative w-full",children:Object(h.jsx)("textarea",{readOnly:!0,className:"w-full",rows:20,value:i,ref:s})})})})}),Object(h.jsx)("div",{className:"rounded-t mb-0 pb-4",children:Object(h.jsxs)("div",{className:"flex justify-end bg flex-row items-center mr-4 pr-4",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){n($())},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Reload"})]})})]})})},_=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.configModal})),l=t.id,a=t.showing;return"logviewer"===a&&Object(h.jsx)(L.a,{isOpen:"logviewer"===a,onRequestClose:function(){e($())},contentLabel:"",style:{content:{bottom:"auto",padding:0,zIndex:20},overlay:{zIndex:200,backgroundColor:"#000c"}},shouldCloseOnOverlayClick:!0,children:Object(h.jsx)(W,{id:l})})},q=!1;function V(){var e=Object(p.b)();function t(){q=window.innerWidth<=768,e(E(q))}return Object(a.useEffect)((function(){return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.a,{}),Object(h.jsx)(z,{}),Object(h.jsx)(U,{}),Object(h.jsx)(_,{}),Object(h.jsxs)("div",{className:"relative bg-blueGray-100 pt-24",children:[Object(h.jsx)(j,{}),Object(h.jsxs)("div",{className:"px-4 md:px-5 mx-auto w-full md:m-auto",children:[Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/",exact:!0,component:T}),Object(h.jsx)(i.b,{path:"/settings",exact:!0,component:A})]}),Object(h.jsx)(f,{})]})]})]})}Object(c.b)({name:"config-modal",initialState:{showing:!1},reducers:{showModal:function(e,t){e.showing=!0},hideModal:function(e){e.showing=!1,q&&setInterval((function(){window.location.href="/admin/dashboard"}),1e3)},setShowModal:function(e,t){e.showing=t.payload}}});var J=Object(c.b)({name:"config-modal",initialState:{value:null,showing:null,id:null},reducers:{showModal:function(e,t){var l=t.payload,a=l.type,n=l.value,s=l.id;e.showing=a,e.value=n,e.id=s},hideModal:function(e){e.value=null,e.id=null,e.showing=null}}}),K=J.actions,Z=K.showModal,$=K.hideModal,Q=J.reducer,X={zergpool:"zergpool",luckpool:"luckpool"},ee={refreshInterval:2,segments:"192.168.1,192.168.2",activePool:X.luckpool,wallet:"",algo:"verus",password:"x",server:"",threads:4,submitting:!1,submitResultFlashMessage:""},te=Object(c.b)({name:"general-config",initialState:ee,reducers:{saveSettingFromServer:function(e,t){t.payload.forEach((function(t){var l=t.name,a=t.value;e[l]=a}))},submitSetting:function(e,t){e.submitting=!0;var l=t.payload;console.log(l),de.emit("web-client-send",{action:"SAVE SETTING",payload:l})},submitSettingAndApply:function(e,t){e.submitting=!0;var l=t.payload;console.log(l),de.emit("web-client-send",{action:"CHANGE & APPLY CONFIG",payload:l})},submitSetHostname:function(e,t){e.submitting=!0;var l=t.payload,a=l.id,n=l.hostname;de.emit("web-client-send",{action:"SET HOSTNAME",payload:{id:a,hostname:n}})},loadSetting:function(e){de.emit("web-client-send",{action:"LOAD SETTING",payload:{}})},submitDone:function(e,t){e.submitting=!1,t.payload.success?x.b.info("Config tersimpan! \ud83d\udc4d",{position:"bottom-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}):x.b.error("Terjadi kesalahan! \ud83d\ude1f",{position:"bottom-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},clearMessage:function(e){e.submitting=!1,e.submitResultFlashMessage=""}}}),le=te.actions,ae=le.saveSettingFromServer,ne=(le.loadSetting,le.submitSetting),se=(le.clearMessage,le.submitDone),re=le.submitSettingAndApply,oe=le.submitSetHostname,ie=te.reducer,ce=Object(u.a)(":80");ce.on("connect",(function(){console.log(ce.id),ce.emit("web-client-register",{})})),ce.on("web-client-receive",(function(e){switch(e.action){case"SCAN":var t=e.result;Ae.dispatch(he(t));break;case"SCANNING":Ae.dispatch(pe(!0));break;case"SCAN-DONE":Ae.dispatch(pe(!1)),Ae.dispatch(je());break;case"UPDATE":var l=e.result;Ae.dispatch(fe(l));break;case"UPDATE SINGLE":var a=e.result;Ae.dispatch(ge(a)),Ae.dispatch(je());break;case"LOAD SETTING":console.log("PROCESS CONFIGS FROM SERVER : ",e);var n=e.result;Ae.dispatch(ae(n));break;case"SAVE SETTING":console.log(e);var s=e.result;Ae.dispatch(se({success:s})),Ae.dispatch($());break;case"INSTALL PM2":console.log(e);var r=e.result;Ae.dispatch(Oe(r));break;case"INSTALL LOG":console.log(e);var o=e.result;Ae.dispatch(we(o));break;case"SHOW LOG":console.log(e);var i=e.result;Ae.dispatch(Be(i))}})),console.log("socket connected : ",ce.connected);var de=ce,be=Object(c.b)({name:"ssh-stb",initialState:{list:[],scanning:!1,pm2Installing:{},logs:{},stbLogs:[],sort:"hostname",order:"asc"},reducers:{refreshList:function(e){for(;e.list.length>0;)e.list.pop();de.emit("web-client-send",{action:"REFRESH",payload:{}})},updateData:function(e,t){for(var l;e.list.length>0;)e.list.pop();(l=e.list).push.apply(l,Object(b.a)(t.payload||[]))},updateSingle:function(e,t){var l=t.payload,a=e.list.findIndex((function(e){return e._id===l._id}));a>=0?e.list[a]=Object(d.a)(Object(d.a)({},e.list[a]),l):e.list.push(l)},sshScan:function(e){de.emit("web-client-send",{action:"SCAN",payload:{}})},addStb:function(e,t){console.log("ADD STB : ",t),t.payload&&e.list.push(t.payload)},removeStb:function(e,t){var l=t.payload.id,a=e.list.findIndex((function(e){return e._id===l}));a>=0&&e.list.splice(a,1)},setScanningStatus:function(e,t){e.scanning=t.payload},setOrder:function(e,t){e.order=t.payload},setSort:function(e,t){e.sort=t.payload},sortResult:function(e){var t=e.list,l=e.sort,a=e.order;e.list=function(e){var t=e.list,l=e.sort,a=e.order;return t.sort((function(e,t){if(e&&t){var n,s;switch(l){case"hostname":n=e.hostname,s=t.hostname;break;case"speed":n=parseFloat(e.hashrate.replace(" kH/s",""))||0,s=parseFloat(t.hashrate.replace(" kH/s",""))||0;break;case"ip":n=e.ips.join("; "),s=t.ips.join("; ");break;case"cpu":n=e.temp,s=t.temp}return"cpu"===l||"speed"===l?"asc"===a?n-s:s-n:"asc"===a?n.localeCompare(s):s.localeCompare(n)}return 0}))}({list:t,sort:l,order:a})},installPm2:function(e,t){var l=t.payload.id;de.emit("web-client-send",{action:"INSTALL PM2",payload:{id:l}})},installPm2Done:function(e,t){console.log(t);var l=t.payload,a=l.id,n=l.status,s=l.done;e.pm2Installing[a]={status:s?null:n,done:s}},installLog:function(e,t){console.log(t);var l=t.payload,a=l.id,n=l.status,s=l.done;e.logs[a]={status:s?null:n,done:s},s&&delete e.logs[a]},installCCMiner:function(e,t){var l=t.payload.id;de.emit("web-client-send",{action:"SETUP CCMINER",payload:{id:l}})},installCCMinerMulti:function(e,t){var l=t.payload.ids;de.emit("web-client-send",{action:"SETUP CCMINER",payload:{ids:l}})},restartStb:function(e,t){var l=t.payload.id;de.emit("web-client-send",{action:"RESTART",payload:{id:l}})},restartMultiStb:function(e,t){var l=t.payload.ids;de.emit("web-client-send",{action:"RESTART",payload:{ids:l}})},stopMiningMulti:function(e,t){var l=t.payload.ids;de.emit("web-client-send",{action:"STOP MINER",payload:{ids:l}})},rebootMulti:function(e,t){var l=t.payload.ids;de.emit("web-client-send",{action:"RESTART",payload:{ids:l}})},shutdownMulti:function(e,t){var l=t.payload.ids;de.emit("web-client-send",{action:"SHUTDOWN",payload:{ids:l}})},getLog:function(e,t){var l=t.payload.id;return de.emit("web-client-send",{action:"SHOW LOG",payload:{id:l}}),Object(d.a)(Object(d.a)({},e),{},{stbLogs:[]})},stbLog:function(e,t){var l=t.payload;return console.log(l),Object(d.a)(Object(d.a)({},e),{},{stbLogs:Object(B.isArray)(l)?l.sort((function(e,t){return e.timestamp-t.timestamp})):l})}}}),ue=be.actions,xe=ue.refreshList,me=ue.sshScan,he=ue.addStb,pe=ue.setScanningStatus,je=ue.sortResult,fe=ue.updateData,ge=ue.updateSingle,Oe=(ue.removeStb,ue.installPm2Done),we=ue.installLog,ve=ue.installCCMiner,ye=ue.restartStb,Ne=(ue.restartMultiStb,ue.installCCMinerMulti),ke=ue.stopMiningMulti,Se=ue.rebootMulti,Ce=ue.shutdownMulti,Ge=ue.getLog,Be=ue.stbLog,Me=ue.setOrder,Te=ue.setSort,Ie=be.reducer,Ae=Object(c.a)({reducer:{sshStb:Ie,configModal:Q,responsive:F,configGeneral:ie}});L.a.setAppElement("#root"),r.a.render(Object(h.jsx)(p.a,{store:Ae,children:Object(h.jsx)(o.a,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/",component:V}),Object(h.jsx)(i.b,{path:"/",component:V}),Object(h.jsx)(i.a,{from:"*",to:"/"})]})})}),document.getElementById("root"))},70:function(e,t,l){},91:function(e,t,l){"use strict";l.r(t),t.default=l.p+"static/media/team-2-800x800.3e08ef14.jpg"}},[[101,1,2]]]);