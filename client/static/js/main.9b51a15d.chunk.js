(this["webpackJsonparmbian-monitor"]=this["webpackJsonparmbian-monitor"]||[]).push([[0],{101:function(e,t,l){"use strict";l.r(t);var a=l(1),n=l.n(a),s=l(28),r=l.n(s),i=l(11),o=l(6),c=(l(69),l(70),l(71),l(20)),d=l(26),b=l(61),u=l(60),x=l(37),m=l(4),h=(l(104),l(0)),j=l(3);function p(){Object(j.b)(),Object(j.c)((function(e){return e.sshStb})).scanning,Object(j.c)((function(e){return e.responsive})).isMobile;var e=n.a.useState(!1),t=Object(m.a)(e,2),l=t[0],a=t[1],s=Object(o.g)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("nav",{className:"fixed top-0 w-full z-10 bg-transparent md:flex-row md:flex-nowrap md:justify-start flex items-center p-4 bg-lightBlue-600 ",children:Object(h.jsxs)("div",{className:"w-full mx-autp items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4",children:[Object(h.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto px-4 lg:static lg:block lg:justify-start",children:[Object(h.jsx)("a",{className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white",href:"#",onClick:function(){s.push("/"),a(!1)},children:"STB Miners Monitor"}),Object(h.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return a(!l)},children:Object(h.jsx)("i",{className:"fas fa-bars"})})]}),Object(h.jsx)("div",{className:"lg:flex flex-grow items-center"+(l?" flex":" hidden"),id:"example-navbar-info",children:Object(h.jsx)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",href:"#",onClick:function(e){e.preventDefault(),s.push("/settings"),a(!1)},children:"Settings"})})})})]})})})}function f(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("footer",{className:"block py-4",children:Object(h.jsxs)("div",{className:"container mx-auto px-4",children:[Object(h.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(h.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(h.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(h.jsxs)("div",{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(h.jsx)("a",{href:"https://www.creative-tim.com?ref=nr-footer-admin",className:"text-blueGray-500 hover:text-blueGray-700 text-sm font-semibold py-1",children:"RAIZ-DEV"})]})}),Object(h.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(h.jsxs)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://www.facebook.com/raizal.pregnanta",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"About Me"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://github.com/raizal",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"Github"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://trakteer.id/raiz",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"Trakteer"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://www.linkedin.com/in/raizal-pregnanta/",className:"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3",children:"LinkedIn"})})]})})]})]})})})}l(82);var g=l(5);function O(e){var t=e.color,l=e.content,a=e.sort,n=void 0===a?null:a,s=e.order,r=void 0===s?null:s,i=e.onHeaderClick,o=void 0===i?function(){}:i,c=r?Object(h.jsx)("i",{className:"fas fa-arrow-".concat("asc"===r?"up":"down"," border-blueGray-100 ml-4")}):null;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded "+("light"===t?"bg-white":"bg-lightBlue-900 text-white"),children:Object(h.jsx)("div",{className:"block w-full overflow-x-auto",children:Object(h.jsxs)(g.Table,{className:"items-center w-full bg-transparent border-collapse",children:[Object(h.jsx)(g.Thead,{children:Object(h.jsxs)(g.Tr,{children:[Object(h.jsx)(g.Th,{style:{width:"150px"},className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-center "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"STB"}),Object(h.jsx)(g.Th,{style:{width:"200px"},className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Net Info"}),Object(h.jsxs)(g.Th,{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),onClick:o,children:["CPU ","cpu"===n&&c]}),Object(h.jsx)(g.Th,{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Workername"}),Object(h.jsxs)(g.Th,{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),onClick:o,children:["Speed  ","speed"===n&&c]}),Object(h.jsx)(g.Th,{className:"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-center "+("light"===t?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Actions"})]})}),Object(h.jsx)(g.Tbody,{children:l})]})})})})}O.defaultProps={color:"light"};var w=l(22),v=l.n(w),y=function(e){return e&&Math.abs(v()(e).diff(v()(),"s"))<150},N=l(59),S=l.n(N),k=function(e){e.color;var t,l=e._id,a=e.name,n=e.mac,s=(e.os,e.netDev),r=e.temp,i=e.hashrate,o=(e.workerName,e.nodeInstalled,e.pm2Installed,e.ccminerInstalled,e.skywireInstalled,e.ip,e.shares),c=e.diff,d=e.lastUpdate,b=e.lastRequest,u=e.cpuLoad,x=e.ips,m=void 0===x?[]:x,p=e.minerScript,f=e.hideDetail,O=void 0!==f&&f,w=Object(j.c)((function(e){return e.sshStb})).logs,N=function(e){var t=e&&v()(v.a.utc(e)).local();return t&&Math.abs(t.diff(v()(),"s"))<150}(d),k=y(b),C=Object(j.b)(),G=0===b?"":v()(b).fromNow(),M=0===b?"offline":v()(b).format("DD-MM-YYYY HH:mm:ss"),B=0===d?"offline":v()(v.a.utc(d)).local().format("DD-MM-YYYY HH:mm:ss"),T=w&&w[a]&&!w[a].done,I=w&&(null===(t=w[a])||void 0===t?void 0:t.status)||null,A=function(e){try{var t=S()(e.split(" ")),l={workerName:"",threads:t.t,algo:t.a,server:t.o,wallet:t.u,password:t.p};if(t.o.indexOf("zergpool.com")>=0){var a=t.p.split(",").find((function(e){return(null===e||void 0===e?void 0:e.indexOf("ID="))>=0}));a&&(l.workerName=a.replace("ID=",""))}else{var n=t.u.split(".")[1];t.o.indexOf("luckpool")>=0&&("hybrid"===t.p?l.workerName="".concat(n,"-hybrid"):l.workerName=n)}return l}catch(s){}return{workerName:"-",threads:"-",algo:"-",server:"-",wallet:"-",password:"-"}}(p);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(g.Tr,{className:"border-solid border-t border-blueGray-200",children:[Object(h.jsx)(g.Th,{className:"xs:w-full border-t-0  align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsxs)("label",{className:"lg:ml-3 font-bold my-auto mx-auto",children:[Object(h.jsx)("i",{className:"fas fa-circle text-".concat(N?"emerald":k?"orange":"red","-500 mr-2")}),a]}),!O&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"my-auto mx-auto pt-2 leading-normal lg:ml-3 font-normal ",children:G}),Object(h.jsx)("label",{className:" my-auto mx-auto leading-normal lg:ml-3 font-normal",children:M})]})]})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6  align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("label",{className:"lg:w-10 py-1",children:m.join("; ")}),!O&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"lg:w-10 py-1",children:s.join("; ")}),n.map((function(e){return Object(h.jsx)("label",{className:"lg:w-10 py-1 ",children:e})}))]})]})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6 max-w-210-px align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsxs)("label",{className:"lg:w-10 pt-2 pb-2 ".concat(r>=60?"text-red-500 font-bold":"font-bold text-emerald-500"),children:[r,"\xb0C"]}),Object(h.jsx)("span",{className:"lg:w-10 break-all py-1",children:u})]})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6 w-210-px font-bold align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsx)("div",{className:"flex flex-col",children:Object(h.jsx)("label",{className:"lg:w-10 pt-2 pb-2",children:A.workerName})})}),Object(h.jsx)(g.Td,{className:"border-t-0 px-6 align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("label",{className:"lg:w-10 font-bold ease-linear transition-all duration-150",children:i}),!O&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("label",{className:"lg:w-10 pt-2 pb-2 leading-normal",children:["Diff: ",c," | Shares: ",o]}),Object(h.jsx)("label",{className:"lg:w-10 pt-1 leading-normal",children:"Last Share:"}),Object(h.jsx)("label",{className:"lg:w-10 leading-normal",children:B})]})]})}),Object(h.jsx)(g.Td,{style:{width:"150px"},className:"border-t-0 px-6  align-middle border-l-0 text-left border-r-0 text-xs whitespace-nowrap p-4",children:Object(h.jsxs)("div",{className:"flex flex-col flex-wrap items-center",style:{gap:"8px",minWidth:"150px"},children:[Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",style:{fontSize:"0.8em"},disabled:T,onClick:function(){C(ge({id:l}))},children:[Object(h.jsx)("i",{className:"fas fa-cog"})," ","Config & Run Miner"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",style:{fontSize:"0.8em"},onClick:function(){C(Oe({id:l}))},children:[Object(h.jsx)("i",{className:"fas fa-power-off"})," Reboot"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",style:{fontSize:"0.8em"},onClick:function(){C(V({type:"threads",value:A.threads,id:l}))},children:[Object(h.jsx)("i",{className:"fas fa-microchip"})," Set Thread"]}),Object(h.jsxs)("button",{className:"text-lightBlue-500 max-w-210-px bg-white border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",onClick:function(){C(V({type:"hostname",value:A.threads,id:a}))},style:{fontSize:"0.8em"},children:[Object(h.jsx)("i",{className:"fas fa-network-wired"})," Set Hostname"]})]})})]}),!O&&Object(h.jsx)(g.Tr,{children:Object(h.jsx)(g.Td,{colSpan:6,className:"border-solid border-t items-center text-center text-xs align-middle leading-none py-2 leading-snug",children:p})}),T&&Object(h.jsx)(g.Tr,{children:Object(h.jsx)(g.Td,{colSpan:6,className:"border-solid border-t items-center text-center text-xs align-middle leading-none py-2 leading-snug",children:I})})]})};function C(e){var t=e.statSubtitle,l=e.statTitle,a=e.statArrow,n=e.statPercent,s=e.statPercentColor,r=e.statDescripiron,i=e.statIconName,o=e.statIconColor;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg",children:Object(h.jsxs)("div",{className:"flex-auto p-4",children:[Object(h.jsxs)("div",{className:"flex flex-wrap",children:[Object(h.jsxs)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:[Object(h.jsx)("h5",{className:"text-blueGray-400 uppercase font-bold text-xs",children:t}),Object(h.jsx)("span",{className:"font-semibold text-xl text-blueGray-700",children:l})]}),Object(h.jsx)("div",{className:"relative w-auto pl-4 flex-initial",children:Object(h.jsx)("div",{className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+o,children:Object(h.jsx)("i",{className:i})})})]}),Object(h.jsxs)("p",{className:"text-sm text-blueGray-400 mt-4 font-bold",children:[Object(h.jsxs)("span",{className:s+" mr-2",children:[Object(h.jsx)("i",{className:"up"===a?"fas fa-arrow-up":"down"===a?"fas fa-arrow-down":""})," ",n]}),Object(h.jsx)("span",{className:"whitespace-nowrap",children:r})]})]})})})}C.defaultProps={statSubtitle:"Traffic",statTitle:"350,897",statArrow:"up",statPercent:"3.48",statPercentColor:"text-emerald-500",statDescripiron:"Since last month",statIconName:"far fa-chart-bar",statIconColor:"bg-red-500"};var G=l(33),M=l.n(G);function B(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.sshStb})),l=t.list,n=t.scanning,s=Object(a.useState)("all"),r=Object(m.a)(s,2),i=r[0],o=r[1],c=Object(a.useState)(""),b=Object(m.a)(c,2),u=b[0],x=b[1],p=Object(a.useState)(!1),f=Object(m.a)(p,2),g=f[0],w=f[1],v=Object(a.useState)(""),N=Object(m.a)(v,2),S=N[0],G=N[1],B=Object(a.useCallback)(M.a.debounce((function(e){G(e)}),700),[]),T=Object(a.useMemo)((function(){return l.filter((function(e){var t=e&&e.ccminerRunning,l=y(e.lastRequest),a=!0;if("all"!==i)switch(i){case"offline":a=!l;break;case"running":a=t&&l;break;case"idle":a=!t&&l}return 0===e.name.indexOf(S)&&a}))}),[l,i,S]),I=Object(a.useMemo)((function(){return T.filter((function(e){return!y(e.lastRequest)})).length}),[T]),A=Object(a.useMemo)((function(){return T.filter((function(e){var t=e&&e.ccminerRunning,l=y(e.lastRequest);return!t&&l})).length}),[T]),D=Object(a.useMemo)((function(){return T.map((function(e){return"n/a"!==e.hashrate&&e.ccminerRunning?parseInt(e.hashrate.split(" ")[0]):0}))}),[T]),E=Object(a.useMemo)((function(){return D.reduce((function(e,t){return e+t}),0)/1e3}),[D]),P=Object(a.useMemo)((function(){return E/(T.length-I)*1e3||0}),[I,T,E]),F=Object(a.useMemo)((function(){return M.a.min(D.filter((function(e){return e>0})))||0}),[D]),R=Object(a.useMemo)((function(){return M.a.max(D)||0}),[D]),L=Object(a.useMemo)((function(){return T.map((function(e){return e.temp}))}),[T]),z=(L.reduce((function(e,t){return e+t}),0)||0)/T.length||0,H=Object(a.useMemo)((function(){return M.a.min(L)||0}),[L]),U=Object(a.useMemo)((function(){return M.a.max(L)||0}),[L]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"flex flex-wrap mt-4 mb-8",children:[Object(h.jsx)("div",{className:"w-full md:w-4/12 px-1",children:Object(h.jsx)(C,{statSubtitle:"STB",statTitle:"".concat(T.length-I-A,"/").concat(T.length),statArrow:"",statIconName:"fas fa-laptop-code",statIconColor:"bg-lightBlue-500",statPercent:"Offline : ".concat(I),statPercentColor:"",statDescripiron:"| Idle : ".concat(A)})}),Object(h.jsx)("div",{className:"w-full md:w-4/12 px-1",children:Object(h.jsx)(C,{statSubtitle:"Hashrate",statTitle:"".concat(E," Mhs"),statArrow:"",statIconName:"fas fa-tachometer-alt",statIconColor:"bg-orange-500",statPercent:"Avg: ".concat(P.toFixed(0)," Khs"),statPercentColor:"",statDescripiron:"| Max: ".concat(R," Khs | Min: ").concat(F," Khs")})}),Object(h.jsx)("div",{className:"w-full md:w-4/12 px-1",children:Object(h.jsx)(C,{statSubtitle:"Avg Temperature",statTitle:"".concat(z.toFixed(2)," \xb0C"),statArrow:"",statIconName:"fas fa-thermometer-half",statIconColor:"bg-red-500",statPercent:"Min: ".concat(H," \xb0C"),statPercentColor:"",statDescripiron:"Max: ".concat(U," \xb0C")})})]}),Object(h.jsx)("div",{className:"flex md:flex-row flex-col mb-4 mt-12",style:{justifyContent:"flex-end"},children:Object(h.jsxs)("div",{className:"flex flex-row flex-wrap flex-1 mb-2 mt-2",style:{gap:"5px",alignItems:"center"},children:[Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){n||e(be())},disabled:n,className:"".concat(n?"bg-lightBlue-500 text-white":"bg-transparent text-lightBlue-500"," border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"),type:"button",children:n?"SCANNING":"START SCANS"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){e(ve({ids:l.map((function(e){return e._id}))}))},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:"Stop Mining"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){e(we({ids:l.map((function(e){return e._id}))}))},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:"Auto Config & Start All"}),Object(h.jsx)("button",{style:{minHeight:"32px"},onClick:function(){return w(!g)},className:"text-lightBlue-500 bg-transparent border border-solid border-lightBlue-500 hover:bg-lightBlue-500 hover:text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 rounded outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",children:g?"Detail":"Simple"})]})}),Object(h.jsxs)("div",{className:"w-full mb-2 flex md:flex-row flex-col",children:[Object(h.jsx)("div",{className:"xl:w-3/12 md:w-4/12 w-full mb-2 mt-2",style:{alignSelf:"center"},children:Object(h.jsxs)("select",{onChange:function(e){o(e.target.value)},className:"font-normal leading-normal mt-0 w-full text-lightBlue-800 border-blueGray-200",style:{fontSize:"0.7em"},children:[Object(h.jsx)("option",{value:"all",selected:"all"===i,children:"Semua"}),Object(h.jsx)("option",{value:"running",selected:"running"===i,children:"Running"}),Object(h.jsx)("option",{value:"idle",selected:"idle"===i,children:"Idle"}),Object(h.jsx)("option",{value:"offline",selected:"offline"===i,children:"Offline"})]})}),Object(h.jsx)("div",{className:"xs:hidden flex-1"}),Object(h.jsx)("div",{className:"w-full md:w-4/12 mb-2 mt-2",children:Object(h.jsx)("div",{className:"relative w-full",children:Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white text-sm shadow w-full ease-linear transition-all duration-150",value:u,placeholder:"Search...",onChange:function(e){x(e.target.value),B(e.target.value)}})})})]}),Object(h.jsx)(O,{content:T.map((function(e,t){return Object(a.createElement)(k,Object(d.a)(Object(d.a)({},e),{},{hideDetail:!g,key:"".concat(e.name,"-").concat(t),color:t%2===0?"light":"dark"}))}))})]})}var T=function(){var e=Object(j.b)(),t=Object(o.g)(),l=Object(j.c)((function(e){return e.configGeneral})),n=l.refreshInterval,s=l.segments,r=l.activePool,i=l.wallet,c=l.server,d=l.password,b=l.algo,u=l.threads,x=l.workername,p=Object(a.useState)(n),f=Object(m.a)(p,2),g=f[0],O=f[1],w=Object(a.useState)(s),v=Object(m.a)(w,2),y=v[0],N=v[1],S=Object(a.useState)(!r||Z.luckpool),k=Object(m.a)(S,2),C=(k[0],k[1]),G=Object(a.useState)(i),M=Object(m.a)(G,2),B=M[0],T=M[1],I=Object(a.useState)(c),A=Object(m.a)(I,2),D=A[0],E=A[1],P=Object(a.useState)(d),F=Object(m.a)(P,2),R=F[0],L=F[1],z=Object(a.useState)(b),H=Object(m.a)(z,2),U=H[0],Y=H[1],q=Object(a.useState)(u),_=Object(m.a)(q,2),W=_[0],V=_[1],K=Object(a.useState)(x),$=Object(m.a)(K,2),Q=$[0],X=$[1],ee="/root/ccminer/ccminer -a ".concat(U," -o ").concat(D," -u ").concat(B,".$workername ").concat((null===d||void 0===d?void 0:d.length)>0?"-p":""," ").concat(R," -t ").concat(W),le=function(e){var t=e.target,l=t.name,a=t.value;switch(l){case"wallet":T(a);break;case"algo":Y(a);case"password":L(a);break;case"threads":V(a);break;case"server":E(a);break;case"interval":O(a);break;case"segments":N(a);break;case"activepool":C(a);break;case"workername":X(a)}};return Object(h.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(te({refreshInterval:g,segments:y,wallet:B,server:D,password:R,algo:U,threads:W,workername:Q}))},children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsx)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:Object(h.jsx)("div",{className:"text-center flex justify-between",children:Object(h.jsx)("h6",{className:"text-blueGray-700 text-xl font-bold",children:"Setting"})})}),Object(h.jsxs)("div",{className:"flex-auto px-4 lg:px-10 py-10 pt-0",children:[Object(h.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:"General Setting"}),Object(h.jsxs)("div",{className:"flex flex-wrap",children:[Object(h.jsx)("div",{className:"w-full px-4 mb-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Workername"}),Object(h.jsxs)("div",{className:"mt-2 py-2",children:[Object(h.jsxs)("label",{className:"inline-flex items-center mr-4",children:[Object(h.jsx)("input",{type:"radio",className:"form-radio",onChange:le,name:"workername",value:"hostname",checked:"hostname"===Q}),Object(h.jsx)("span",{className:"ml-2",children:"Use hostname"})]}),Object(h.jsxs)("label",{className:"inline-flex items-center ml-6",children:[Object(h.jsx)("input",{type:"radio",className:"form-radio",onChange:le,name:"workername",value:"all-for-one",checked:"all-for-one"===Q}),Object(h.jsx)("span",{className:"ml-2",children:"Single workername"})]})]})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Update Interval (dalam detik)"}),Object(h.jsx)("input",{type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:g,name:"interval",onChange:le})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"IP Segment (pisahkan dengan koma)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:y,name:"segments",onChange:le})]})})]}),Object(h.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:"Miner Setting"}),Object(h.jsxs)("div",{className:"flex flex-wrap",children:[Object(h.jsx)("div",{className:"w-full px-4 lg:w-6/12 ",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Server(-o)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:D,name:"server",onChange:le})]})}),Object(h.jsx)("div",{className:"w-full px-4 lg:w-6/12 ",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Algo(-a)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:U,name:"algo",onChange:le})]})}),Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Wallet(-u)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:B,name:"wallet",onChange:le})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4 ",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Password(-p)"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:R,name:"password",onChange:le})]})}),Object(h.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Jumlah CPU Threads(-t)"}),Object(h.jsx)("input",{type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:W,name:"threads",onChange:le})]})}),Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full mb-3",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Generated Miner Script"}),Object(h.jsx)("textarea",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:ee,name:"script",readOnly:!0,onChange:le})]})})]})]}),Object(h.jsx)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:Object(h.jsxs)("div",{className:"text-center flex justify-end",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){e(J()),t.goBack()},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Save Changes"})]})})]})})};function I(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"flex flex-wrap",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsx)(T,{})})})})}var A=Object(c.b)({name:"responsive",initialState:{isMobile:!1},reducers:{setIsMobile:function(e,t){e.isMobile=t.payload}}}),D=A.actions.setIsMobile,E=A.reducer,P=l(27),F=l.n(P),R=l(40),L=function(e){var t=e.threads,l=e.id,n=void 0===l?"STB NAME":l,s=Object(j.b)(),r=(Object(o.g)(),Object(a.useState)(t)),i=Object(m.a)(r,2),c=i[0],d=i[1];return Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(ae({id:n,config:Object(R.a)({},"".concat(n,"-threads"),c)})),s(J())},children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsxs)("div",{className:"flex-auto px-4 pt-8 pb-6 pt-0",children:[Object(h.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 px-3 font-bold uppercase",children:n}),Object(h.jsx)("div",{className:"flex flex-wrap",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"CPU Threads"}),Object(h.jsx)("input",{type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:c,name:"threads",onChange:function(e){var t=e.target,l=t.name,a=t.value;if("threads"===l)d(a)}})]})})})]}),Object(h.jsx)("div",{className:"rounded-t mb-0 pb-4",children:Object(h.jsxs)("div",{className:"flex justify-center bg flex-row items-center",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){s(J())},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"})]})})]})})},z=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.configModal})),l=t.id,a=t.value,n=t.showing;return console.log(t),Object(h.jsx)(F.a,{isOpen:"threads"===n,onRequestClose:function(){e(J())},contentLabel:"",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",padding:0,transform:"translate(-50%, -50%)",zIndex:20},overlay:{zIndex:200,backgroundColor:"#000c"}},shouldCloseOnOverlayClick:!0,children:Object(h.jsx)(L,{id:l,threads:a})})},H=function(e){var t=e.id,l=void 0===t?"STB NAME":t,n=Object(j.b)(),s=(Object(o.g)(),Object(a.useState)(l)),r=Object(m.a)(s,2),i=r[0],c=r[1];return Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(ne({hostname:i,id:l})),n(de()),n(J()),window.location.reload()},children:Object(h.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(h.jsx)("div",{className:"flex-auto px-4 pt-8 pb-6 pt-0",children:Object(h.jsx)("div",{className:"flex flex-wrap mt-6",children:Object(h.jsx)("div",{className:"w-full px-4",children:Object(h.jsxs)("div",{className:"relative w-full",children:[Object(h.jsx)("label",{className:"block text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Set Hostname"}),Object(h.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",value:i,name:"hostname",onChange:function(e){var t=e.target,l=(t.name,t.value);c(l)}})]})})})}),Object(h.jsx)("div",{className:"rounded-t mb-0 pb-4",children:Object(h.jsxs)("div",{className:"flex justify-center bg flex-row items-center",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-4 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){n(J())},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"})]})})]})})},U=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.configModal})),l=t.id,a=t.showing;return Object(h.jsx)(F.a,{isOpen:"hostname"===a,onRequestClose:function(){e(J())},contentLabel:"",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",padding:0,transform:"translate(-50%, -50%)",zIndex:20},overlay:{zIndex:200,backgroundColor:"#000c"}},shouldCloseOnOverlayClick:!0,children:Object(h.jsx)(H,{id:l})})},Y=!1;function q(){var e=Object(j.b)();function t(){Y=window.innerWidth<=768,e(D(Y))}return Object(a.useEffect)((function(){return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.a,{}),Object(h.jsx)(z,{}),Object(h.jsx)(U,{}),Object(h.jsxs)("div",{className:"relative bg-blueGray-100 pt-24",children:[Object(h.jsx)(p,{}),Object(h.jsxs)("div",{className:"px-4 md:px-5 mx-auto w-full md:m-auto",children:[Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",exact:!0,component:B}),Object(h.jsx)(o.b,{path:"/settings",exact:!0,component:I})]}),Object(h.jsx)(f,{})]})]})]})}Object(c.b)({name:"config-modal",initialState:{showing:!1},reducers:{showModal:function(e,t){e.showing=!0},hideModal:function(e){e.showing=!1,Y&&setInterval((function(){window.location.href="/admin/dashboard"}),1e3)},setShowModal:function(e,t){e.showing=t.payload}}});var _=Object(c.b)({name:"config-modal",initialState:{value:null,showing:null,id:null},reducers:{showModal:function(e,t){var l=t.payload,a=l.type,n=l.value,s=l.id;e.showing=a,e.value=n,e.id=s},hideModal:function(e){e.value=null,e.id=null,e.showing=null}}}),W=_.actions,V=W.showModal,J=W.hideModal,K=_.reducer,Z={zergpool:"zergpool",luckpool:"luckpool"},$={refreshInterval:2,segments:"192.168.1,192.168.2",activePool:Z.luckpool,wallet:"",algo:"verus",password:"x",server:"",threads:4,submitting:!1,submitResultFlashMessage:""},Q=Object(c.b)({name:"general-config",initialState:$,reducers:{saveSettingFromServer:function(e,t){t.payload.forEach((function(t){var l=t.name,a=t.value;e[l]=a}))},submitSetting:function(e,t){e.submitting=!0;var l=t.payload;console.log(l),ie.emit("web-client-send",{action:"SAVE SETTING",payload:l})},submitSettingAndApply:function(e,t){e.submitting=!0;var l=t.payload;console.log(l),ie.emit("web-client-send",{action:"CHANGE & APPLY CONFIG",payload:l})},submitSetHostname:function(e,t){e.submitting=!0;var l=t.payload,a=l.id,n=l.hostname;ie.emit("web-client-send",{action:"SET HOSTNAME",payload:{id:a,hostname:n}})},loadSetting:function(e){ie.emit("web-client-send",{action:"LOAD SETTING",payload:{}})},submitDone:function(e,t){e.submitting=!1,t.payload.success?x.b.info("Config tersimpan! \ud83d\udc4d",{position:"bottom-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}):x.b.error("Terjadi kesalahan! \ud83d\ude1f",{position:"bottom-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},clearMessage:function(e){e.submitting=!1,e.submitResultFlashMessage=""}}}),X=Q.actions,ee=X.saveSettingFromServer,te=(X.loadSetting,X.submitSetting),le=(X.clearMessage,X.submitDone),ae=X.submitSettingAndApply,ne=X.submitSetHostname,se=Q.reducer,re=Object(u.a)(":80");re.on("connect",(function(){console.log(re.id),re.emit("web-client-register",{})})),re.on("web-client-receive",(function(e){switch(e.action){case"SCAN":var t=e.result;Ne.dispatch(ue(t));break;case"SCANNING":Ne.dispatch(xe(!0));break;case"SCAN-DONE":Ne.dispatch(xe(!1)),Ne.dispatch(me());break;case"UPDATE":var l=e.result;Ne.dispatch(he(l));break;case"UPDATE SINGLE":var a=e.result;Ne.dispatch(je(a)),Ne.dispatch(me());break;case"LOAD SETTING":console.log("PROCESS CONFIGS FROM SERVER : ",e);var n=e.result;Ne.dispatch(ee(n));break;case"SAVE SETTING":console.log(e);var s=e.result;Ne.dispatch(le({success:s})),Ne.dispatch(J());break;case"INSTALL PM2":console.log(e);var r=e.result;Ne.dispatch(pe(r));break;case"INSTALL LOG":console.log(e);var i=e.result;Ne.dispatch(fe(i))}})),console.log("socket connected : ",re.connected);var ie=re,oe=Object(c.b)({name:"ssh-stb",initialState:{list:[],scanning:!1,pm2Installing:{},logs:{}},reducers:{refreshList:function(e){for(;e.list.length>0;)e.list.pop();ie.emit("web-client-send",{action:"REFRESH",payload:{}})},updateData:function(e,t){for(var l;e.list.length>0;)e.list.pop();(l=e.list).push.apply(l,Object(b.a)(t.payload||[]))},updateSingle:function(e,t){var l=t.payload,a=e.list.findIndex((function(e){return e._id===l._id}));a>=0?e.list[a]=Object(d.a)(Object(d.a)({},e.list[a]),l):e.list.push(l)},sshScan:function(e){ie.emit("web-client-send",{action:"SCAN",payload:{}})},addStb:function(e,t){console.log("ADD STB : ",t),t.payload&&e.list.push(t.payload)},removeStb:function(e,t){var l=t.payload.id,a=e.list.findIndex((function(e){return e._id===l}));a>=0&&e.list.splice(a,1)},setScanningStatus:function(e,t){e.scanning=t.payload},sortResult:function(e){e.list=e.list.sort((function(e,t){return e&&t?(""+e.hostname).localeCompare(t.hostname):0}))},installPm2:function(e,t){var l=t.payload.id;ie.emit("web-client-send",{action:"INSTALL PM2",payload:{id:l}})},installPm2Done:function(e,t){console.log(t);var l=t.payload,a=l.id,n=l.status,s=l.done;e.pm2Installing[a]={status:s?null:n,done:s}},installLog:function(e,t){console.log(t);var l=t.payload,a=l.id,n=l.status,s=l.done;e.logs[a]={status:s?null:n,done:s},s&&delete e.logs[a]},installCCMiner:function(e,t){var l=t.payload.id;ie.emit("web-client-send",{action:"SETUP CCMINER",payload:{id:l}})},installCCMinerMulti:function(e,t){var l=t.payload.ids;ie.emit("web-client-send",{action:"SETUP CCMINER",payload:{ids:l}})},restartStb:function(e,t){var l=t.payload.id;ie.emit("web-client-send",{action:"RESTART",payload:{id:l}})},restartMultiStb:function(e,t){var l=t.payload.ids;ie.emit("web-client-send",{action:"RESTART",payload:{ids:l}})},stopMiningMulti:function(e,t){var l=t.payload.ids;ie.emit("web-client-send",{action:"STOP MINER",payload:{ids:l}})}}}),ce=oe.actions,de=ce.refreshList,be=ce.sshScan,ue=ce.addStb,xe=ce.setScanningStatus,me=ce.sortResult,he=ce.updateData,je=ce.updateSingle,pe=(ce.removeStb,ce.installPm2Done),fe=ce.installLog,ge=ce.installCCMiner,Oe=ce.restartStb,we=(ce.restartMultiStb,ce.installCCMinerMulti),ve=ce.stopMiningMulti,ye=oe.reducer,Ne=Object(c.a)({reducer:{sshStb:ye,configModal:K,responsive:E,configGeneral:se}});F.a.setAppElement("#root"),r.a.render(Object(h.jsx)(j.a,{store:Ne,children:Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",component:q}),Object(h.jsx)(o.b,{path:"/",component:q}),Object(h.jsx)(o.a,{from:"*",to:"/"})]})})}),document.getElementById("root"))},70:function(e,t,l){},91:function(e,t,l){"use strict";l.r(t),t.default=l.p+"static/media/team-2-800x800.3e08ef14.jpg"}},[[101,1,2]]]);